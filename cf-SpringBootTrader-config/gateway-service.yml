spring:
  cloud:
    gateway:
      discovery:
        locator:
          enabled: true
      routes:
      - id: quotes-service-curl
        uri: lb://quotes-service
        predicates:
        - Path=/quotes/**
        filters:
        - RewritePath=/quotes/(?<path>.*), /$\{path}
      - id: quotes-service
        uri: lb://quotes-service
        predicates:
        - Path=/v1/**
      - id: accounts-service
        uri: lb://accounts-service
        predicates:
        - Path=/accounts/**
        #filters:
        #- RewritePath=/accounts/(?<path>.*), /$\{path}
      - id: user-service
        uri: lb://user-service
        predicates:
        - Path=/users/**
        #filters:
        #- RewritePath=/user/(?<path>.*), /$\{path}
      - id: user-service-login
        uri: lb://user-service
        predicates:
        - Path=/login/**
      - id: user-service-logout
        uri: lb://user-service
        predicates:
        - Path=/logout/**
      - id: portfolio-service
        uri: lb://portfolio-service
        predicates:
        - Path=/portfolio/**
        #filters:
        #- RewritePath=/portfolio/(?<path>.*), /$\{path}
      - id: analytics-service
        uri: lb://analytics-service
        predicates:
        - Path=/analytics/**
        #filters:
        #- RewritePath=/analytics/(?<path>.*), /$\{path}
